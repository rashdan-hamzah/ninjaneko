<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Consulting Problem Solver</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark">
  <style>
    /* ----------------------------------------------------------------
       Apple-inspired, single-file, CSS-first design.
       Focus: sleek, minimal, glassy, smooth animations and motion.
    ------------------------------------------------------------------*/

    /* Design tokens */
    :root{
      --font-system: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI",
                     Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
                     "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", sans-serif;

      --bg: #0b0c0f;
      --bg-2: #0e1116;

      --text: rgba(255,255,255,0.92);
      --text-muted: rgba(255,255,255,0.6);

      --surface: rgba(255,255,255,0.08);
      --surface-2: rgba(255,255,255,0.06);
      --border: rgba(255,255,255,0.12);
      --border-strong: rgba(255,255,255,0.16);

      --accent: #0A84FF; /* Apple blue */
      --accent-2: #30D158; /* Apple green */
      --accent-3: #64D2FF; /* Teal-blue */
      --shadow: 0 10px 30px rgba(0,0,0,0.45), 0 1px 0 rgba(255,255,255,0.06) inset;

      --radius-xl: 22px;
      --radius-lg: 16px;
      --radius-md: 12px;
      --radius-sm: 10px;

      --blur-strong: saturate(140%) blur(22px);
      --blur-soft: saturate(120%) blur(12px);

      --elev: 0 25px 80px rgba(0,0,0,0.55), 0 12px 24px rgba(0,0,0,0.35);
      --easing: cubic-bezier(.19, .62, .21, 1);
      --easing-2: cubic-bezier(.2, .8, .2, 1);
      --dur-fast: .28s;
      --dur: .5s;
      --dur-slow: .9s;

      --ring: 0 0 0 10px color-mix(in oklab, var(--accent) 18%, transparent);
      --ring-muted: 0 0 0 10px color-mix(in oklab, #fff 8%, transparent);

      --card-width: min(720px, calc(100vw - 32px));
    }

    @media (prefers-color-scheme: light) {
      :root{
        --bg: #f5f7fb;
        --bg-2: #eef1f6;

        --text: rgba(0,0,0,0.88);
        --text-muted: rgba(0,0,0,0.55);

        --surface: rgba(255,255,255,0.7);
        --surface-2: rgba(255,255,255,0.55);
        --border: rgba(0,0,0,0.08);
        --border-strong: rgba(0,0,0,0.12);

        --shadow: 0 18px 42px rgba(19,27,41,0.12), 0 1px 0 rgba(255,255,255,0.7) inset;
        --elev: 0 35px 80px rgba(0,0,0,0.14), 0 10px 24px rgba(0,0,0,0.09);
      }
    }

    /* Base */
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      font-family: var(--font-system);
      color: var(--text);
      background: radial-gradient(1200px 1200px at 20% 0%, #203248 0%, transparent 60%),
                  radial-gradient(900px 900px at 80% 10%, #14263a 0%, transparent 60%),
                  linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 100%);
      margin: 0;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      overflow-x: hidden;
    }
    ::selection{ background: color-mix(in oklab, var(--accent) 26%, transparent); }

    /* Subtle grain for tactile feel */
    .grain{
      position: fixed; inset: 0; pointer-events: none; z-index: 0;
      background-image: url("data:image/svg+xml;utf8,\
      <svg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'>\
        <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/><feColorMatrix values='0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 .08 0'/></filter>\
        <rect width='100%' height='100%' filter='url(%23n)'/>\
      </svg>");
      mix-blend-mode: soft-light;
      opacity: .55;
      animation: grainShift 18s steps(60) infinite;
    }
    @keyframes grainShift {
      0% { transform: translate(0,0) }
      100% { transform: translate(-160px,-160px) }
    }

    /* Floating glow orbs (subtle) */
    .orb, .orb::after{
      position: fixed; pointer-events: none; z-index: 0; filter: blur(40px);
      width: 520px; height: 520px; border-radius: 50%;
      opacity: .3;
      mix-blend-mode: screen;
      will-change: transform, opacity;
      transition: opacity var(--dur-slow) var(--easing);
    }
    .orb{ background: radial-gradient(circle at 30% 30%, var(--accent) 0%, transparent 60%); top: -120px; left: -100px; animation: float1 28s var(--easing) infinite alternate; }
    .orb::after{ content: ""; background: radial-gradient(circle at 70% 70%, var(--accent-3) 0%, transparent 60%); top: 220px; left: 420px; animation: float2 36s var(--easing-2) infinite alternate; }
    @keyframes float1 { from{ transform: translateY(0) translateX(0) } to{ transform: translateY(40px) translateX(30px) } }
    @keyframes float2 { from{ transform: translateY(0) translateX(0) } to{ transform: translateY(-30px) translateX(-20px) } }

    /* Layout */
    .wrap{
      position: relative; z-index: 1;
      min-height: 100dvh;
      display: grid;
      place-items: center;
      padding: 40px 16px;
    }

    /* Header */
    .hero{
      width: var(--card-width);
      display: grid; gap: 12px;
      margin: 12px auto 18px;
      text-align: center;
      user-select: none;
    }
    .brand{
      display: inline-grid;
      justify-items: center;
      gap: 12px;
    }
    .logo{
      width: 56px; height: 56px; border-radius: 16px;
      display: grid; place-items: center;
      background: linear-gradient(180deg, rgba(255,255,255,.2), rgba(255,255,255,0)),
                  linear-gradient(145deg, rgba(255,255,255,.08), rgba(255,255,255,0));
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      backdrop-filter: var(--blur-soft);
      transform: translateY(6px);
      animation: popIn .7s var(--easing) .15s both;
    }
    .logo svg{ width: 28px; height: 28px; display: block; }
    @keyframes popIn{
      from{ opacity: 0; transform: translateY(16px) scale(.96) }
      to{ opacity: 1; transform: translateY(6px) scale(1) }
    }
    .title{
      font-weight: 700;
      letter-spacing: -0.02em;
      font-size: clamp(22px, 4.3vw, 36px);
      text-wrap: balance;
      text-shadow: 0 1px 0 rgba(255,255,255,.04);
      animation: rise .8s var(--easing) .2s both;
    }
    .subtitle{
      color: var(--text-muted);
      font-size: clamp(14px, 2.5vw, 16px);
      animation: rise .8s var(--easing) .3s both;
    }
    @keyframes rise{ from{ opacity: 0; transform: translateY(8px) } to{ opacity: 1; transform: translateY(0) } }

    /* Card (glass) */
    .card{
      width: var(--card-width);
      border-radius: var(--radius-xl);
      border: 1px solid var(--border);
      background:
        linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0) 30%),
        linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)),
        var(--surface);
      box-shadow: var(--elev);
      backdrop-filter: var(--blur-strong);
      -webkit-backdrop-filter: var(--blur-strong);
      overflow: clip;
      position: relative;
      transform: translateZ(0);
      animation: cardIn .6s var(--easing) .25s both;
    }
    @keyframes cardIn{ from{ opacity: 0; transform: translateY(16px) scale(.98) } to{ opacity: 1; transform: translateY(0) scale(1) } }

    /* Top bar with segmented control */
    .bar{
      display: grid; grid-template-columns: 1fr auto;
      gap: 12px; align-items: center;
      padding: 18px 18px 0 18px;
    }
    .eyebrow{
      font-size: 12px; letter-spacing: .12em; text-transform: uppercase;
      color: var(--text-muted);
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0));
      backdrop-filter: var(--blur-soft);
    }

    /* Segmented Control */
    .seg{
      position: relative;
      display: grid; grid-template-columns: 1fr 1fr; gap: 0;
      width: 280px; max-width: 100%;
      border-radius: 999px;
      border: 1px solid var(--border-strong);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(0,0,0,.02));
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.12);
      overflow: hidden;
      isolation: isolate;
    }
    .seg button{
      appearance: none; -webkit-appearance: none;
      border: 0; background: transparent; color: var(--text);
      padding: 12px 18px; font: inherit; cursor: pointer;
      position: relative; z-index: 2;
      transition: color var(--dur-fast) var(--easing);
      outline: none;
    }
    .seg button[aria-pressed="true"]{ color: #000; }
    @media (prefers-color-scheme: dark){
      .seg button[aria-pressed="true"]{ color: #0b0c0f; }
    }
    .seg .indicator{
      position: absolute; z-index: 1; inset: 4px;
      width: calc(50% - 4px); border-radius: 999px;
      background: linear-gradient(180deg, #fff, rgba(255,255,255,.85));
      box-shadow:
        0 2px 10px rgba(0,0,0,.25),
        inset 0 1px 0 rgba(255,255,255,.9),
        inset 0 -1px 0 rgba(0,0,0,.08);
      transition: transform var(--dur) var(--easing);
      will-change: transform;
    }
    .seg[data-mode="cases"] .indicator{ transform: translateX(0) }
    .seg[data-mode="frameworks"] .indicator{ transform: translateX(100%) }

    /* Prompt area */
    .prompt-wrap{
      position: relative; padding: 24px 18px 10px 18px;
    }
    .prompt-stage{
      position: relative; height: auto; min-height: 180px;
      display: grid; align-items: stretch;
      overflow: hidden;
    }
    .prompt-card{
      position: relative; z-index: 1;
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.02)),
                  var(--surface-2);
      box-shadow: var(--shadow);
      padding: clamp(18px, 3.5vw, 28px);
      display: grid; gap: 14px; align-content: start;
      transform-origin: 50% 50%;
      will-change: transform, opacity, filter;
    }
    .prompt-eyebrow{
      font-size: 12px; letter-spacing: .08em; text-transform: uppercase;
      color: var(--text-muted);
    }
    .prompt-text{
      font-size: clamp(18px, 2.6vw, 24px);
      line-height: 1.35;
      letter-spacing: -0.01em;
      text-wrap: pretty;
    }

    /* Sliding transitions for prompt content */
    .slide-in{
      animation: slideIn var(--dur) var(--easing) both;
    }
    .slide-out{
      position: absolute; inset: 0;
      animation: slideOut var(--dur) var(--easing) both;
    }
    @keyframes slideIn{
      0%{ opacity: 0; transform: translate3d(24px, 6px, 0) scale(.98); filter: blur(6px); }
      60%{ opacity: 1; }
      100%{ opacity: 1; transform: translate3d(0,0,0) scale(1); filter: blur(0); }
    }
    @keyframes slideOut{
      0%{ opacity: 1; transform: translate3d(0,0,0) scale(1); filter: blur(0); }
      100%{ opacity: 0; transform: translate3d(-24px, -6px, 0) scale(.985); filter: blur(6px); }
    }

    /* Controls */
    .controls{
      display: grid; grid-template-columns: 1fr auto auto; gap: 12px;
      padding: 18px;
      align-items: center;
    }
    .hint{
      color: var(--text-muted);
      font-size: 12px;
      padding: 0 18px 18px;
      text-align: left;
    }

    /* Buttons */
    .btn{
      position: relative;
      border: 1px solid var(--border-strong);
      border-radius: 14px;
      padding: 12px 18px;
      font: 600 15px/1 var(--font-system);
      color: #fff;
      background:
        linear-gradient(180deg, color-mix(in oklab, var(--accent) 92%, #fff 8%), color-mix(in oklab, var(--accent) 80%, #000 20%)),
        radial-gradient(120% 220% at 0% 0%, rgba(255,255,255,.35), transparent 40%);
      box-shadow:
        0 8px 20px color-mix(in oklab, var(--accent) 30%, transparent),
        inset 0 1px 0 rgba(255,255,255,.4),
        inset 0 -1px 0 rgba(0,0,0,.2);
      cursor: pointer;
      outline: none;
      transition: transform var(--dur-fast) var(--easing), box-shadow var(--dur-fast) var(--easing), filter var(--dur-fast) var(--easing);
      will-change: transform, box-shadow, filter;
      overflow: hidden;
      isolation: isolate;
    }
    .btn .shine{
      pointer-events: none;
      position: absolute; inset: -100% -40% -100% -40%;
      background: linear-gradient(110deg, transparent 40%, rgba(255,255,255,.65) 50%, transparent 60%);
      transform: translateX(-60%);
      transition: transform .9s var(--easing);
      mix-blend-mode: screen;
      filter: blur(.5px);
    }
    .btn:hover .shine{ transform: translateX(0%); }
    .btn:active{ transform: translateY(1px) scale(.99); }

    .btn-ghost{
      background: linear-gradient(180deg, rgba(255,255,255,.1), rgba(255,255,255,0));
      color: var(--text);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.25);
    }

    /* Copy success toast */
    .toast{
      position: fixed; z-index: 5; left: 50%; bottom: 26px; transform: translate(-50%, 18px);
      padding: 10px 14px; border-radius: 12px; font-size: 14px;
      color: #000;
      background: linear-gradient(180deg, #fff, rgba(255,255,255,.9));
      border: 1px solid rgba(0,0,0,.08);
      box-shadow: 0 12px 28px rgba(0,0,0,.2), inset 0 1px 0 rgba(255,255,255,.85);
      opacity: 0; pointer-events: none;
    }
    .toast.show{ animation: toastIn .6s var(--easing) both, toastOut .6s var(--easing) 2.2s forwards; }
    @keyframes toastIn{ from{ opacity: 0; transform: translate(-50%, 28px) scale(.98) } to{ opacity: 1; transform: translate(-50%, 0) scale(1) } }
    @keyframes toastOut{ to{ opacity: 0; transform: translate(-50%, 18px) scale(.995) } }

    /* Footer */
    .footer{
      width: var(--card-width);
      margin: 20px auto 0;
      display: grid; place-items: center;
      color: var(--text-muted);
      font-size: 12px;
      opacity: .9;
    }

    /* Accessibility: reduced motion */
    @media (prefers-reduced-motion: reduce){
      .orb, .orb::after, .grain{ animation: none !important }
      .slide-in, .slide-out, .btn .shine, .toast.show, .card, .logo, .title, .subtitle{
        animation: none !important;
        transition: none !important;
      }
    }
  </style>
</head>
<body>
  <!-- Ambient layers -->
  <div class="grain" aria-hidden="true"></div>
  <div class="orb" aria-hidden="true"></div>

  <main class="wrap">
    <!-- Header brand -->
    <header class="hero" aria-label="App Header">
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <!-- Minimal, crisp icon -->
          <svg role="img" viewBox="0 0 24 24" fill="none">
            <defs>
              <linearGradient id="g" x1="0" y1="0" x2="24" y2="24" gradientUnits="userSpaceOnUse">
                <stop offset="0" stop-color="#64D2FF"/>
                <stop offset="1" stop-color="#0A84FF"/>
              </linearGradient>
            </defs>
            <path d="M6 8.5c2.2-1.9 5.8-1.9 8 0 2 1.7 3.6 1.7 4.8.3 0 4.7-3.6 9.4-8.8 9.4S3.2 13.5 3.2 8.8c1.3 1.4 3 1.4 4.8-.3Z" stroke="url(#g)" stroke-width="1.5" />
            <path d="M12 4.5c1.2-.9 2.5-1 3.6-.3" stroke="url(#g)" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="title">Consulting Problem Solver</div>
        <div class="subtitle">Generate crisp case prompts and frameworks with silky-smooth motion.</div>
      </div>
    </header>

    <!-- Main glass card -->
    <section class="card" aria-label="Generator">
      <div class="bar">
        <div class="eyebrow">Generator</div>

        <!-- Segmented Control -->
        <div class="seg" id="seg" data-mode="cases" role="tablist" aria-label="Mode">
          <div class="indicator" aria-hidden="true"></div>
          <button id="btnCases" type="button" role="tab" aria-selected="true" aria-pressed="true">Cases</button>
          <button id="btnFrameworks" type="button" role="tab" aria-selected="false" aria-pressed="false">Frameworks</button>
        </div>
      </div>

      <!-- Prompt stage -->
      <div class="prompt-wrap">
        <div class="prompt-stage" aria-live="polite" aria-atomic="true">
          <article class="prompt-card slide-in" id="promptCard">
            <div class="prompt-eyebrow" id="promptType">Case Prompt</div>
            <div class="prompt-text" id="promptText">
              How would you reduce costs for a manufacturing company while preserving product quality?
            </div>
          </article>
        </div>
      </div>

      <!-- Controls -->
      <div class="controls">
        <button class="btn" id="btnGenerate" type="button" title="Generate (Space)">
          <span class="shine"></span>
          Generate
        </button>
        <button class="btn btn-ghost" id="btnCopy" type="button" title="Copy to clipboard">
          Copy
        </button>
        <small class="hint">Press Space to Generate • Enter to Copy</small>
      </div>
    </section>

    <div class="footer">Built with attention to detail. Smooth as silk.</div>
  </main>

  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite" aria-atomic="true">Copied to clipboard</div>

  <script>
    // Data sets
    const CASE_PROMPTS = [
      "How would you reduce costs for a manufacturing company while preserving product quality?",
      "What is the best market entry strategy for a startup expanding into Southeast Asia?",
      "How can an e-commerce platform increase customer retention by 20% over the next two quarters?",
      "Design a pricing strategy for a freemium SaaS tool facing increased competition.",
      "Which levers would you pull to improve store-level profitability for a retail chain?",
      "How would you diagnose a sudden drop in conversion rate across a global website?",
      "Outline a path to achieve carbon-neutral operations for a logistics company by 2030.",
      "What steps would you take to optimize an underperforming supply chain with limited capex?",
      "Recommend a turnaround plan for a legacy media company losing ad revenue to digital.",
      "How would you evaluate and prioritize growth opportunities for a consumer fintech app?"
    ];

    const FRAMEWORKS = [
      "MECE: Break the problem into Mutually Exclusive, Collectively Exhaustive buckets.",
      "Porter’s Five Forces: Industry rivalry, Supplier power, Buyer power, Threat of substitution, Threat of new entrants.",
      "4P/7P Marketing Mix: Product, Price, Place, Promotion (+ People, Process, Physical evidence).",
      "Profitability Tree: Revenue (Price × Volume) vs. Cost (Fixed vs. Variable).",
      "SWOT: Strengths, Weaknesses, Opportunities, Threats.",
      "Unit Economics: LTV, CAC, payback period, contribution margin, churn dynamics.",
      "Customer Funnel (AARRR): Acquisition, Activation, Retention, Referral, Revenue.",
      "BCG Matrix: Stars, Cash Cows, Question Marks, Dogs.",
      "Cohort & Segmentation: Behavioral, demographic, channel, product usage cohorts.",
      "Value Chain Analysis: Inbound logistics, Operations, Outbound logistics, Marketing & Sales, Services (+ support activities)."
    ];

    // Elements
    const seg = document.getElementById('seg');
    const btnCases = document.getElementById('btnCases');
    const btnFrameworks = document.getElementById('btnFrameworks');
    const btnGenerate = document.getElementById('btnGenerate');
    const btnCopy = document.getElementById('btnCopy');
    const promptStage = document.querySelector('.prompt-stage');
    const toast = document.getElementById('toast');

    // State
    let mode = 'cases';
    let lastIndex = -1;

    function setMode(next){
      mode = next;
      seg.setAttribute('data-mode', mode);
      const isCases = mode === 'cases';
      btnCases.setAttribute('aria-pressed', isCases ? 'true' : 'false');
      btnFrameworks.setAttribute('aria-pressed', !isCases ? 'true' : 'false');
      btnCases.setAttribute('aria-selected', isCases ? 'true' : 'false');
      btnFrameworks.setAttribute('aria-selected', !isCases ? 'true' : 'false');
      // Generate on switch with a graceful slide
      generate(true);
    }

    function pick(arr){
      if (arr.length === 1) return { text: arr[0], idx: 0 };
      let idx;
      do { idx = Math.floor(Math.random() * arr.length); } while (idx === lastIndex);
      lastIndex = idx;
      return { text: arr[idx], idx };
    }

    function createCard(typeLabel, text, outgoing = false){
      const art = document.createElement('article');
      art.className = 'prompt-card ' + (outgoing ? 'slide-out' : 'slide-in');
      const eyebrow = document.createElement('div');
      eyebrow.className = 'prompt-eyebrow';
      eyebrow.textContent = typeLabel;
      const body = document.createElement('div');
      body.className = 'prompt-text';
      body.textContent = text;
      art.appendChild(eyebrow);
      art.appendChild(body);
      return art;
    }

    function generate(isSwitch = false){
      const source = mode === 'cases' ? CASE_PROMPTS : FRAMEWORKS;
      const label = mode === 'cases' ? 'Case Prompt' : 'Framework';
      const { text } = pick(source);

      const current = promptStage.querySelector('.prompt-card');
      if (current){
        // Turn current into outgoing
        current.classList.remove('slide-in');
        current.classList.add('slide-out');
        // When finished, remove it
        current.addEventListener('animationend', () => current.remove(), { once:true });
      }
      // Insert incoming
      const incoming = createCard(label, text, false);
      // If switching modes, make it feel slightly different (tiny delay)
      if (isSwitch) incoming.style.animationDelay = '60ms';
      promptStage.appendChild(incoming);
    }

    function copyCurrent(){
      const current = promptStage.querySelector('.prompt-card .prompt-text');
      if (!current) return;
      const txt = current.textContent.trim();
      if (!navigator.clipboard){
        // Fallback
        const ta = document.createElement('textarea');
        ta.value = txt; document.body.appendChild(ta);
        ta.select(); document.execCommand('copy'); ta.remove();
        showToast();
        return;
      }
      navigator.clipboard.writeText(txt).then(showToast).catch(showToast);
    }

    let toastTimer;
    function showToast(){
      toast.classList.remove('show');
      // Force reflow to restart animation
      void toast.offsetWidth;
      toast.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=> toast.classList.remove('show'), 2900);
    }

    // Listeners
    btnCases.addEventListener('click', () => setMode('cases'));
    btnFrameworks.addEventListener('click', () => setMode('frameworks'));
    btnGenerate.addEventListener('click', () => generate(false));
    btnCopy.addEventListener('click', copyCurrent);

    // Keyboard: Space = generate, Enter = copy
    window.addEventListener('keydown', (e) => {
      const tag = (e.target && e.target.tagName) || '';
      if (tag === 'INPUT' || tag === 'TEXTAREA' || e.metaKey || e.ctrlKey || e.altKey) return;
      if (e.code === 'Space'){
        e.preventDefault();
        generate(false);
      } else if (e.key === 'Enter'){
        e.preventDefault();
        copyCurrent();
      } else if ((e.key === '1')) {
        setMode('cases');
      } else if ((e.key === '2')) {
        setMode('frameworks');
      }
    }, { passive: true });

    // Initial gentle shuffle after load for motion
    window.addEventListener('load', () => {
      setTimeout(() => generate(false), 700);
    }, { passive: true });
  </script>
</body>
</html>